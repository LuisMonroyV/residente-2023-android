<ion-app>
  <ion-menu contentId="main-content" type="reveal">
    <ion-content class="mt-40">
      <ion-list id="inbox-list">
        <ion-list-header>Comunidad Los Mostos</ion-list-header>
        <ion-note color="primary">{{ fbSrvc.persona.email }} </ion-note>
        <ion-icon name="shield-checkmark-sharp"
                  color="primary"
                  *ngIf="fbSrvc.persona.esAdmin"
                  >
        </ion-icon>
        <ion-menu-toggle autoHide="false" *ngFor="let p of fbSrvc.appPages; let i = index">
          <ion-item *ngIf="p.visible"
                    (click)="selectedIndex = i" 
                    routerDirection="root" 
                    [routerLink]="[p.url]" 
                    lines="none" 
                    detail="false" 
                    [class.selected]="selectedIndex === i"
                    >
            <ion-icon slot="start" [ios]="p.icon + '-outline'" [md]="p.icon + '-sharp'"></ion-icon>
            <ion-label>{{ p.title }}</ion-label>
          </ion-item>
        </ion-menu-toggle>
        <ion-menu-toggle auto-hide="false">
          <ion-item lines="none"
                  *ngIf="fbSrvc.persona.esAdmin"
                  [routerLink]="['usuarios']" 
                  >
          <ion-icon slot="start" name="people-sharp"></ion-icon>
          <ion-label>Validar Usuarios</ion-label>
          </ion-item>
          <ion-item lines="none">
            <ion-icon slot="start" name="moon-sharp"></ion-icon>
            <ion-label>Modo Oscuro</ion-label>
            <ion-toggle (ionChange)="toggleDarkTheme(!dark)"
                        name="darkMode"
                        [checked]="dark"
                        mode="ios">
            </ion-toggle>
          </ion-item>
          <ion-item lines="none"(click)= "cerrarSesion()">
            <ion-icon slot="start" name="log-out-sharp"></ion-icon>
            <ion-label>Cerrar Sesión</ion-label>
            <ion-toggle [ngModel]="!fbSrvc.parametros.identificado"
                        name="sesion"
                        mode="ios">
            </ion-toggle>
          </ion-item>
          <ion-item lines="none" *ngIf="fbSrvc.actualizarApp">
            <ion-icon *ngIf="fbSrvc.actualizarApp && fbSrvc.esAndroid" slot="start" name="logo-google-playstore" color="primary"></ion-icon>
            <a *ngIf="fbSrvc.actualizarApp" [href]="fbSrvc.parametrosFB.urlAppAndroid">
              <ion-label>Act. Disponible</ion-label>
            </a>
          </ion-item>
          <ion-item lines="none" *ngIf="!fbSrvc.actualizarApp">
              <ion-icon *ngIf="fbSrvc.esAndroid" slot="start" name="logo-google-playstore"></ion-icon>
              <!-- <ion-icon *ngIf="fbSrvc.esOtro" slot="start" name="logo-ionic"></ion-icon> -->
              <ion-label>
                <ion-text> Versión: 
                  <ion-chip color="primary" mode="ios" outline="false">
                    <ion-label>{{ fbSrvc.verAppStr }}</ion-label>
                  </ion-chip>
                </ion-text> 
              </ion-label>
          </ion-item>
      </ion-menu-toggle>
      </ion-list>
    </ion-content>
  </ion-menu>
  <ion-router-outlet id="main-content"></ion-router-outlet>
</ion-app>
