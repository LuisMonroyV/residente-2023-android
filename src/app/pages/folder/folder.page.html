<ion-menu contentId="main-content" type="reveal">
    <ion-header class="ion-no-border mt-40" [translucent]="true">
        <ion-toolbar>
            <ion-buttons slot="start">
                <ion-menu-button></ion-menu-button>
            </ion-buttons>
        </ion-toolbar>
    </ion-header>
    <ion-content>
        <ion-list id="inbox-list">
            <ion-chip color="primary">{{ fbSrvc.persona.nombres }} {{ fbSrvc.persona.apellidoPaterno }}</ion-chip>
            <ion-chip color="primary">{{ fbSrvc.persona.calle }}-{{ fbSrvc.persona.numero }}</ion-chip>
            <ion-icon name="shield-checkmark-sharp"
                        color="primary"
                        *ngIf="fbSrvc.persona.esAdmin"
                        >
            </ion-icon>
            <ion-menu-toggle autoHide="false" *ngFor="let p of fbSrvc.appPages; let i = index">
                <ion-item *ngIf="p.visible"
                        (click)="selectedIndex = i" 
                        routerDirection="root" 
                        [routerLink]="[p.url]" 
                        lines="none" 
                        detail="false" 
                        [class.selected]="selectedIndex === i"
                        >
                <ion-icon slot="start" [ios]="p.icon + '-outline'" [md]="p.icon + '-sharp'"></ion-icon>
                <ion-label>{{ p.title }}</ion-label>
                </ion-item>
            </ion-menu-toggle>
            <ion-menu-toggle auto-hide="false">
                <ion-item lines="none"
                        *ngIf="fbSrvc.persona.esAdmin"
                        (click)="usuarios()"
                        >
                <ion-icon slot="start" name="people-sharp"></ion-icon>
                <ion-label>Validar Usuarios</ion-label>
                </ion-item>
                <ion-item lines="none">
                <ion-icon slot="start" name="moon-sharp"></ion-icon>
                <ion-label>Modo Oscuro</ion-label>
                <ion-toggle (ionChange)="fbSrvc.toggleDarkTheme(!fbSrvc.dark)"
                            name="darkMode"
                            [checked]="fbSrvc.dark"
                            mode="ios">
                </ion-toggle>
                </ion-item>
                <ion-item lines="none"(click)= "cerrarSesion()">
                <ion-icon slot="start" name="log-out-sharp"></ion-icon>
                <ion-label>Cerrar Sesión</ion-label>
                <ion-toggle [ngModel]="!fbSrvc.parametros.identificado"
                            name="sesion"
                            mode="ios">
                </ion-toggle>
                </ion-item>
                <ion-item lines="none" *ngIf="fbSrvc.actualizarApp">
                <ion-icon *ngIf="fbSrvc.actualizarApp && fbSrvc.esAndroid" slot="start" name="logo-google-playstore" color="primary"></ion-icon>
                <a [href]="fbSrvc.parametrosFB.urlAppAndroid">
                    <ion-label>Act. Disponible</ion-label>
                </a>
                </ion-item>
                <ion-item lines="none" *ngIf="!fbSrvc.actualizarApp">
                    <ion-icon *ngIf="fbSrvc.esAndroid" slot="start" name="logo-google-playstore"></ion-icon>
                    <ion-label>
                    <ion-text> Versión: 
                        <ion-chip color="primary" mode="ios" outline="false" class="ion-text-center">
                        <ion-label *ngIf="!fbSrvc.verAppStr"> Cargando... </ion-label>
                        <ion-label *ngIf="fbSrvc.verAppStr">{{ fbSrvc.verAppStr }}</ion-label>
                        </ion-chip>
                    </ion-text> 
                    </ion-label>
                </ion-item>
            </ion-menu-toggle>                                  
        </ion-list>
    </ion-content>
</ion-menu>

<ion-header class="ion-no-border mt-40" [translucent]="true">
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>Comunidad Los Mostos</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content  id="main-content">
    <div id="noticias">
        <app-noticias></app-noticias>
    </div>
    <div *ngIf="fbSrvc.parametros.verEmergencias" id="emergencias">
        <app-emergencias></app-emergencias>
    </div>
    <div *ngIf="fbSrvc.parametros.verAccesos" id="accesos">
        <app-accesos></app-accesos>
    </div>
    <div *ngIf="fbSrvc.parametros.verRondas" id="rondas">
        <app-rondas></app-rondas>
    </div>
    <div class="ion-text-center">
        <img src="/assets/icon/favicon.png" width="50%">
    </div>
    <ion-fab vertical="top" horizontal="end" slot="fixed">
        <ion-fab-button (click)="alerta()" color="danger">
            <ion-icon name="megaphone-sharp"></ion-icon>
        </ion-fab-button>
    </ion-fab>
    <ion-fab *ngIf="fbSrvc.persona.esAdmin" vertical="center" horizontal="end" slot="fixed">
        <ion-fab-button (click)="nuevaNoticia()">
            <ion-icon name="add"></ion-icon>
        </ion-fab-button>
    </ion-fab>
</ion-content>
